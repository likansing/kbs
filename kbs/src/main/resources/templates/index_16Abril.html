<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>kbs</title>

	<!--Import Google Icon Font-->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!--Import materialize.css-->
	<link type="text/css" rel="stylesheet" href="/materialize/css/materialize.css"  media="screen,projection"/>
	<link type="text/css" rel="stylesheet" href="/materialize/css/materialize.min.css"  media="screen,projection"/>
	<script type="text/javascript" src="/materialize/js/jquery.min.js"></script>
	<script type="text/javascript" src="/materialize/js/materialize.js"></script>
    <script type="text/javascript" src="/materialize/js/materialize.min.js"></script>
	<script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
	<link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" >

<style type="text/css">
/* sobrescrever o nav padrao do materialize para trocar cor da barra */
nav {
	color: #fff;
/* 	background-color: #ee6e73; */
	background-color: #007db8;
	width: 100%;
	height: 56px;
	line-height: 56px
}
/* sobrescrever o table.striped do materialize para trocar cor de fundo das linhas da tebela */
table.striped>tbody>tr:nth-child(odd) {
	background-color: #e6f7ff;
}
tr:hover { 
/*    background: red;  */
}
td a { 
   display: block;
   color: black;
}
</style>

</head>
<body>

	<h5 style="text-align: center;">Knowledge Base System</h5>

	<nav>
		<div class="nav-wrapper">
			<a href="/index" class="brand-logo right">Logo</a>
			<a href="#" class="sidenav-trigger" data-target="mobile-nav">
				<i class="material-icons">menu</i>
			</a>
			<ul class="Right hide-on-med-and-down">
				<li><a href="/index">Front Page</a></li>
				<li><a href="/registerknowledge">Register New</a></li>
				<li><a href="/admin">Admin</a></li>
			</ul>
		</div>
	</nav>

	<ul class="sidenav" id="mobile-nav">
	    <li><a href="/index">Front Page</a></li>
		<li><a href="/registerknowledge">Register New</a></li>
		<li><a href="/admin">Admin</a></li>
	</ul>

	<br>
	
	
	<fieldset>
	<legend style="padding-left: 5px; padding-right: 5px;">Search</legend>
	<div class="row">
		<form action="searchknowledge" method="post" class="col s12">
			<div class="row">
				<div class="input-field col s4">
					<label for="searchBy" class="active">Search by</label>
					<select class="browser-default" name="searchBy" id="searchBy">
<!-- 						<option value="" disabled="disabled" selected="selected">Choose</option> -->
<!-- 						<option value="affectedPlatform" th:text="Platform"></option> -->
						<option value="description" th:text="Description"></option>
						<option value="severity" th:text="Severity"></option>
						<option value="status" th:text="Status"></option>
<!-- 						<option value="affectyedSysid" th:text="SYSID"></option> -->
						<option value="title" th:text="Title"></option>
						<option value="id" th:text="ID"></option>
					</select>
				</div>
			
				<div class="input-field col s4">
					<label for="searchWord" class="active">keywords</label>
					<input id="searchWord" name="searchWord" class="validate">
				</div>
				
				<div class="input-field col s4">
					<button class="btn waves-effect waves-light" type="submit" name="search">Search</button>
				</div>
			</div>
		</form>
	</div>
	<div class="row">
		<form action="/index" method="post" class="col s6">
			<div class="input-field col s6">
				<button class="btn waves-effect waves-light" type="submit" name="search">Clear filtered data</button>
			</div>
		</form>
	</div>
	
	</fieldset>
	
	<br>
	<div th:each="m : ${msg}">
		<span th:text = "${m}"></span>	
	</div>
	<br>
	<table class="striped">
		<thead>
			<tr>
				<th>ID</th>
				<th>Title</th>
				<th>Description</th>
				<th>Platform</th>
				<th>Market Name</th>
				<th>SYSID</th>
				<th>Commodity</th>
				<th>Severity</th>
				<th>Status</th>
				<th>Edit</th>
				<th>Remove</th>
				
			</tr>
		</thead>
		<tr th:each = "knowledgeItem : ${knowledgeList}">
			<td><a th:href="@{/viewknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}"><span th:text="${knowledgeItem.id}"></span></a></td>
			<td><a th:href="@{/viewknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}"><span th:text = "${knowledgeItem.title}"></span></a></td>
			<td><a th:href="@{/viewknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}"><span th:text = "${knowledgeItem.description}"></span></a></td>
			<td><a th:href="@{/viewknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}"><span th:text = "${knowledgeItem.platform.platformName}"></span></a></td>
			<td><a th:href="@{/viewknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}"><span th:text = "${knowledgeItem.platform.marketName}"></span></a></td>
			<td><a th:href="@{/viewknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}"><span th:text = "${knowledgeItem.platform.sysid}"></span></a></td>
			<td><a th:href="@{/viewknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}"><span th:text = "${knowledgeItem.commodity.commodity}"></span></a></td>
			<td><a th:href="@{/viewknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}"><span th:text = "${knowledgeItem.severity}"></span></a></td>
			<td><a th:href="@{/viewknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}"><span th:text = "${knowledgeItem.status}"></span></a></td>
			
			<td><a th:href="@{/editknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}">Edit</a></td>
			<td><a th:href="@{/deleteknowledge/{knowledgeItemId}(knowledgeItemId=${knowledgeItem.id})}">Delete</a></td>
		</tr>
	</table>
	

<script type="text/javascript">
		
	$(document).ready(function(){
 		$('.sidenav').sidenav();
 	});
</script>

</body>
</html>